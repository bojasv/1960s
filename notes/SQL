------------------------------------------------------------------------
CREATE OR REPLACE TABLE TESTSQLF(                                       
 ROLL_NO                                                                
                FOR COLUMN EDROLL       SMALLINT     NOT NULL DEFAULT 0,
 SUB_NO                                                                 
                FOR COLUMN EDSUBJ       INTEGER      NOT NULL DEFAULT 0,
 STUD_MARKS                                                             
                FOR COLUMN EDSMKS       BIGINT       NOT NULL DEFAULT 0,
 STUD_TZWT                                                            
                FOR COLUMN EDTZWT       TIMESTAMP    NOT NULL DEFAULT,
 STUD_DATE                                                            
                FOR COLUMN EDDATE       DATE         NOT NULL DEFAULT,
 STUD_TIME                                                                
                FOR COLUMN EDTIME       TIME         NOT NULL DEFAULT,    
 USER                                                                     
                FOR COLUMN EDUSER       VARCHAR(10)  NOT NULL DEFAULT '')
  RCDFMT TESTSQLFA;                                                     

--SMALLINT - supports values upto 32k - 32,767 - 32767 - BINARY(4,0) - 2 Bytes
--INTEGER or INT - supports values upto 2B  - 2,147,483,647 - 2147483647 - BINARY(9,0) - 4 Bytes
--BIGINT   - supports values upto 9Qi - 9,223,372,036,854,775,807 - 9223372036854775807 - BINARY(18,0) - 8 Bytes
--TIMESTAMP - char(29) field          - '9999-12-31 23:59:59.999999999'
--REAL - FLTSNG(8,7) - 4 Bytes
--FLOAT - FLTDBL(16,15) - 8 Bytes - same as DOUBLE
--DECFLOAT - DECFLOAT(34,0) - 16 Bytes
------------------------------------------------------------------------

CREATE TABLE QTEMP/TSTFIL (
    fldid INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fldc VARCHAR(1),
    fldint INT,
    flddec DEC(5,2) CHECK(flddec > -1) DEFAULT 9
PRIMARY KEY (fldid)
);

INSERT can work in two ways:
1. INSERT values for all file-fields
2. INSERT values for one/selected file field (and rest fields shall follow DEFAULT values as described during CREATE TABLE statement) 

INSERT INTO library/file(fldc, fldn)
VALUES ('A', 1);

UPDATE library/file
SET fldc = ' ',
    fldn = 9
WHERE fldc IS NOT NULL;


INSERT INTO OXBLIB/TESTSQLF VALUES(32767, 2147483647,  
9223372036854775807,'2014-07-02 06:14:00.742000000')  

INSERT INTO OXBLIB/EXAMDTLS0 VALUES(32761, 2147483647,             
9223372036854775807, CURRENT_TIMESTAMP, CURRENT_DATE, CURRENT_TIME,
CURRENT_USER)                                                      

SQL Wildcards (usually go with LIKE)
  _ : Represents a range of characters; c[a-b]t finds cat and cbt
  % : Represents zero or more characters; bl% finds bl, black, blue, and blob

if SQLSTT = *zeros; // query executed successfully or record found.
if SQLSTT = '02000'; // end_of_file or record not found.
if SQLSTT = '23505';  // UNIQUE keyword used, hence can't write duplicate record.

examples
exec sql UPDATE
if SQLSTT = '02000';
  exec sql INSERT
endif;

exec sql INSERT
if SQLSTT = '23505';
  exec sql UPDATE
endif;  

Position 1 Keyword LABEL not expected. Valid tokens: ADD 
LOG NOT SET DATA DROP ALTER CHECK APPEND UNIQUE FOREIGN. 

MSG ID  SEV  RECORD  TEXT                                                      
SQL0199  30       2  Position 1 Keyword LABEL not expected. Valid tokens: ADD  
                     LOG NOT SET DATA DROP ALTER CHECK APPEND UNIQUE FOREIGN.  
                    Message Summary                                            
                    
                    
                    ALTER TABLE XPDPPUPD                          
LABEL ON COLUMN FILE0 (                    
  FIELD0 TEXT IS 'Update Field 0');  

-- to get what version (VxRxMx) and what level of TR is the OS on - QSYS2/GROUP_PTF_INFO
SELECT CURRENT SERVER CONCAT ' is running ' CONCAT                 
PTF_GROUP_TARGET_RELEASE                                           
CONCAT ' with TR level: ' CONCAT PTF_GROUP_LEVEL AS TR_LEVEL       
FROM QSYS2.GROUP_PTF_INFO WHERE PTF_GROUP_DESCRIPTION = 'TECHNOLOGY
REFRESH'                                                           
AND PTF_GROUP_STATUS = 'INSTALLED' ORDER BY                        
 PTF_GROUP_TARGET_RELEASE DESC FETCH FIRST 1 ROWS ONLY             

-- to get system log between 2 timestamps - QSYS2/HISTORY_LOG_INFO
SELECT                                                              
ORDINAL_POSITION,MESSAGE_ID,MESSAGE_TYPE,SEVERITY,MESSAGE_TIMESTAMP,
FROM_USER,FROM_JOB, CAST(MESSAGE_TEXT AS CHAR(200) CCSID 37) AS     
MESSAGE_TEXT, CAST(MESSAGE_SECOND_LEVEL_TEXT AS CHAR(200) CCSID 37) 
AS MESSAGE_SECOND_LEVEL_TEXT FROM TABLE(QSYS2.HISTORY_LOG_INFO(     
'2021-10-31-23.00.00.000000', '2021-11-01-00.00.00.000000')) A

--to get true size of a library (size of all objects summed up)
SELECT OBJECT_COUNT, (LIBRARY_SIZE/1000000) AS LIBSIZ_MB, LIBRARY_SIZE_COMPLETE FROM TABLE(QSYS2.LIBRARY_INFO('TSTLIB'));

-- to get the current timestamp of the DB
SELECT CURRENT TIMESTAMP FROM SYSIBM.SYSDUMMY1

-- to get the current date of the DB
SELECT CURRENT DATE FROM SYSIBM.SYSDUMMY1

-- to get the 
SELECT * FROM QSYS2.USER_INFO WHERE PRVSIGNON > '2021-07-02-00.05.40.000000'

-- to get the activities 
SELECT * FROM QSYS2.USER_INFO WHERE USER_NAME = 'BOJASV'

-- to find fields in a file
SELECT DBIPOS, DBIFLD, DBIITP, DBITXT FROM qsys/qadbifld WHERE  
dbilib = 'BOJASV' and dbifil = 'TSTFILE'                        

-- to Add string '//0002' as a comment to a source member, starting last 7 char based on the date in YYMMDD  
-- First create a new PF-SRC MBR@ and copy the desired member there, then run the following statement 
UPDATE TSTLIB/MBR@ SET SRCDTA = CONCAT(SUBSTR(Srcdta,1,LENGTH(Srcdta)-7),'//0002') WHERE SRCDAT = 230202;

-- to review your updated comments
SELECT CONCAT(SUBSTR(SRCDTA,90,6),'//0002') FROM TSTLIB/MBR@ WHERE SRCDAT = 230202;

5770SS1 V7R3M0 160422                                         HELP                               02/13/23  11:39:46     Page     1
                                                   Select SQL Statement - Help
         The Select SQL Statement menu lets you select the SQL statement
         that you want to use.
     Selection
         Type an option number in the blank and press Enter.
     ALTER TABLE
         Select this option to show the ALTER TABLE Statement display where
         you can alter a defined table (file) by adding a constraint,
         dropping a constraint, adding a column (field), altering a column
         (field), or dropping a column (field).
     CALL
         Select this option to show the Specify CALL Statement display where
         you can call an external procedure.
     COMMENT ON
         Select this option to show the Specify COMMENT ON Statement display
         where you can supply information about a table (physical file),
         view (logical file), column (field), package, or alias to refer to
         later.
     COMMIT
         Select this option to show the Specify COMMIT Statement display
         where you can commit the database changes made by the unit of work.
     CONNECT
         Select this option to show the Specify CONNECT Statement display
         where you can select a relational database to access.
     CREATE ALIAS
         Select this option to show the Specify CREATE ALIAS Statement
         display where you can define an alias for a table (physical file)
         or a view (logical file).
     CREATE COLLECTION
         Select this option to show the Specify CREATE COLLECTION Statement
         display where you can define a collection.
     CREATE INDEX
         Select this option to show the Specify CREATE INDEX Statement
         display where you can define an index on a table (file).
     CREATE PROCEDURE
         Select this option to show the Specify CREATE PROCEDURE Statement
         display where you can create an SQL procedure.
     CREATE TABLE
         Select this option to show the Specify CREATE TABLE Statement
         display where you can define a table (file).
     CREATE VIEW
         Select this option to show the Specify CREATE VIEW Statement
         display where you can define a view (logical file) on one or more
         tables (files).
     DELETE
         Select this option to show the Specify DELETE Statement display
         where you can delete one or more rows (records) from a table
         (file).
     DISCONNECT
         Select this option to show the Specify DISCONNECT Statement display
         where you can end one or more unprotected conversations.
     DROP ALIAS
         Select this option to show the Specify DROP ALIAS Statement display
         where you can delete an alias.
     DROP COLLECTION
         Select this option to show the Specify DROP COLLECTION Statement
         display where you can delete a collection.
     DROP INDEX
         Select this option to show the Specify DROP INDEX Statement display
         where you can delete an index.
     DROP PACKAGE
         Select this option to show the Specify DROP PACKAGE Statement
         display where you can delete a package.
     DROP TABLE
         Select this option to show the Specify DROP TABLE Statement display
         where you can delete a table (physical file).
     DROP VIEW
         Select this option to show the Specify DROP VIEW Statement display
         where you can delete a view (logical file).
     GRANT PACKAGE
         Select this option to show the Specify GRANT PACKAGE Statement
         display where you can grant package (program) privileges to users.
     GRANT TABLE
         Select this option to show the Specify GRANT TABLE Statement
         display where you can grant table (physical file) and view (logical
         file) privileges to users.
     INSERT
         Select this option to show the Specify INSERT Statement display
         where you can insert one or more rows (records) into a table
         (file).
     LABEL ON
         Select this option to show the Specify LABEL ON Statement display
         where you can change or add a label on the description of the table
         (physical file), view (logical file), column (field), package, or
         alias.
     LOCK TABLE
         Select this option to show the Specify LOCK TABLE Statement display
         where you can lock a table (file).
     RENAME
         Select this option to show the Specify RENAME Statement display
         where you can rename a table, view, or index.
     RELEASE
         Select this option to show the Specify RELEASE Statement display
         where you can place one or more connections in the released state.
     REVOKE PACKAGE
         Select this option to show the Specify REVOKE PACKAGE Statement
         display where you can remove user privileges on packages
         (programs).
     REVOKE TABLE
         Select this option to show the Specify REVOKE TABLE Statement
         display where you can remove user privileges on tables (physical
         files) and views (logical files).
     ROLLBACK
         Select this option to show the Specify ROLLBACK Statement display
         where you can end a unit of work and roll back the changes made to
         the table (file) by that unit of work.
     SELECT
         Select this option to show the Specify SELECT Statement display
         where you can do a subselect query, which specifies a result table
         (file) or intermediate result table (file).
     SET CONNECTION
         Select this option to show the Specify SET CONNECTION Statement
         display where you can change the state of a connection from dormant
         to current.
     SET TRANSACTION
         Select this option to show the Specify SET TRANSACTION Statement
         display where you can set the isolation level (commitment control).
     UPDATE
         Select this option to show the Specify UPDATE Statement display
         where you can update the values of one or more columns (fields) in
         one or more rows (records) of a table (file).

5770SS1 V7R4M0 190621               Run SQL Statements             EXAMDTLS0                          10/23/21 14:28:26
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change         
MSG ID  SEV  RECORD  TEXT                                                                                              
SQL0104  30       3  Position 41 Token REAL was not valid. Valid tokens:                                               
                     CHARACTER FLOAT GRAPHIC BINARY DATALINK CLOB BLOB DBCLOB                                          
                     XML DECIMAL DEC NUMERIC NUM CLOB BLOB DBCLOB VARCHAR                                              
                     VARGRAPHIC VARBINARY.                                                                             
SQL0104  30       7  Position 47 Token ( was not valid. Valid tokens: ) ,.                                             

                                                Commitment control (COMMIT) - Help                                                  
      Specifies whether SQL statements are run under commitment control.                                                            
      *NONE    or   *NC                                                                                                             
          Specifies that commitment control is not used.  Uncommitted changes                                                       
          in other jobs can be seen.  If the SQL DROP SCHEMA statement is                                                           
          included in the program, *NONE or *NC must be used.                                                                       
      *CHG    or   *UR                                                                                                              
          Specifies the objects referred to in SQL ALTER, CALL, COMMENT ON,                                                         
          CREATE, DROP, GRANT, LABEL ON, RENAME, and REVOKE statements and                                                          
          the rows updated, deleted, and inserted are locked until the end of                                                       
          the unit of work (transaction).  Uncommitted changes in other jobs                                                        
          can be seen.                                                                                                              
      *CS                                                                                                                           
          Specifies the objects referred to in SQL ALTER, CALL, COMMENT ON,                                                         
          CREATE, DROP, GRANT, LABEL ON, RENAME, and REVOKE statements and                                                          
          the rows updated, deleted, and inserted are locked until the end of                                                       
          the unit of work (transaction).  A row that is selected, but not                                                          
          updated, is locked until the next row is selected.  Uncommitted                                                           
          changes in other jobs cannot be seen.                                                                                     
      *ALL    or   *RS                                                                                                              
          Specifies the objects referred to in SQL ALTER, CALL, COMMENT ON,                                                         
          CREATE, DROP, GRANT, LABEL ON, RENAME, and REVOKE statements and                                                          
          the rows selected, updated, deleted, and inserted are locked until                                                        
          the end of the unit of work (transaction).  Uncommitted changes in                                                        
          other jobs cannot be seen.                                                                                                
      *RR                                                                                                                           
          Specifies the objects referred to in SQL ALTER, CALL, COMMENT ON,                                                         
          CREATE, DROP, GRANT, LABEL ON, RENAME, and REVOKE statements and                                                          
          the rows selected, updated, deleted, and inserted are locked until                                                        
          the end of the unit of work (transaction).  Uncommitted changes in                                                        
          other jobs cannot be seen.  All tables referred to in SELECT,                                                             
          UPDATE, DELETE, and INSERT statements are locked exclusively until                                                        
          the end of the unit of work (transaction).                                                                                
                                        * * * * *   E N D   O F   L I S T I N G   * * * * *                                         
SQL/400:
https://books.google.co.in/books?id=lqtc0c3UjIMC&pg=PA90&lpg=PA90&dq=trim+in+sql400&source=bl&ots=7MWc0gUjrC&sig=ACfU3U3POW8K8GTe1opzw4apWddTEY8Zlw&hl=en&sa=X&ved=2ahUKEwjlqafxjsrqAhWc6XMBHTx_Bw0Q6AEwE3oECAoQAQ#v=onepage&q=trim%20in%20sql400&f=false
